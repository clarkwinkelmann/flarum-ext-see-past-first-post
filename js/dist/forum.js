module.exports=function(t){var n={};function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=n,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)o.d(e,r,function(n){return t[n]}.bind(null,r));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=12)}([function(t,n){t.exports=flarum.core.compat["forum/app"]},,function(t,n){t.exports=flarum.core.compat["common/extend"]},,function(t,n){t.exports=flarum.core.compat["forum/components/DiscussionListItem"]},function(t,n){t.exports=flarum.core.compat["forum/states/PostStreamState"]},function(t,n){t.exports=flarum.core.compat["common/components/Button"]},function(t,n){t.exports=flarum.core.compat["forum/components/PostStream"]},function(t,n){t.exports=flarum.core.compat["common/Component"]},function(t,n){t.exports=flarum.core.compat["forum/components/SignUpModal"]},function(t,n){t.exports=flarum.core.compat["forum/utils/DiscussionControls"]},function(t,n){t.exports=flarum.core.compat["common/utils/ItemList"]},function(t,n,o){"use strict";o.r(n),o.d(n,"components",(function(){return k}));var e=o(2),r=o(0),s=o.n(r),i=o(7),a=o.n(i),c=o(4),u=o.n(c),p=o(5),f=o.n(p);function l(t,n){return(l=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var d=o(8),y=o.n(d),P=o(6),b=o.n(P),h=o(9),v=o.n(h),x=o(10),g=o.n(x),O=o(11),S=o.n(O),j=function(t){var n,o;function e(){return t.apply(this,arguments)||this}o=t,(n=e).prototype=Object.create(o.prototype),n.prototype.constructor=n,l(n,o);var r=e.prototype;return r.view=function(){return s.a.session.user?m(".Post.CantSeePastFirstPost",s.a.translator.trans("clarkwinkelmann-see-past-first-post.forum.cant-see")):m(".Post.CantSeePastFirstPost",[m("p",s.a.translator.trans("clarkwinkelmann-see-past-first-post.forum.login-to-see")),m("p",this.links().toArray())])},r.links=function(){var t=new S.a;return t.add("logIn",b.a.component({className:"Button Button--primary",onclick:function(){g.a.replyAction().catch((function(){}))}},s.a.translator.trans("core.forum.header.log_in_link"))),s.a.forum.attribute("allowSignUp")&&t.add("signUp",b.a.component({className:"Button Button--link",onclick:function(){return s.a.modal.show(v.a)}},s.a.translator.trans("core.forum.header.sign_up_link"))),t},e}(y.a),k={CantSeePastFirstPost:j};s.a.initializers.add("clarkwinkelmann-see-past-first-post",(function(){Object(e.extend)(a.a.prototype,"view",(function(t){if(!this.discussion.attribute("canSeePastFirstPost")){var n=t.children.length;n>0&&this.stream.viewingEnd()&&(!s.a.session.user||this.discussion.canReply())&&n--,t.children.splice(n,0,j.component({key:"see-past-first-post"}))}})),Object(e.override)(f.a.prototype,"count",(function(t){return this.discussion.attribute("canSeePastFirstPost")||this.discussion.attribute("seePastFirstPostHiddenCount")?t():this.discussion.commentCount()})),Object(e.override)(f.a.prototype,"viewingEnd",(function(t){return!this.discussion.attribute("canSeePastFirstPost")||t()})),Object(e.extend)(u.a.prototype,"view",(function(t){this.attrs.discussion.attribute("seePastFirstPostHiddenCount")&&Array.isArray(t.children)&&t.children.forEach((function(t){if(t.attrs&&-1!==t.attrs.className.indexOf("DiscussionListItem-content")){var n=t.children.findIndex((function(t){return t.attrs&&"DiscussionListItem-count"===t.attrs.className}));-1!==n&&t.children.splice(n,1)}}))})),Object(e.override)(u.a.prototype,"showFirstPost",(function(t){return!!this.attrs.discussion.attribute("seePastFirstPostHiddenLastPost")||t()}))}))}]);
//# sourceMappingURL=forum.js.map